<!DOCTYPE html>
<html>
<head>
        <title>Contact us</title>
        <link rel="stylesheet" href="styles.css">
        <script src="../Server/static/jquery-3.7.1.min.js"></script>
</head>
<body>
	<div class="header">
		<table width="100%" border="0" cellpadding="5" cellspacing="1">
			<tr>
			    <td align="center" valign="middle">
			    <div class="flip-box">
			        <div class="flip-box-inner">
			            <div class="flip-box-front">
			                <img src="images/leaves.gif" style="width:300px;height:200px">
			            </div>
			            <div class="flip-box-back">
			                <h2>Forrest schools</h2>
			                <p>Support the development of a lifelong relationship between the learner and the natural world</p>
			             
			            </div>
			        </div>
			    </div>
			    </td>
			</tr>
		</table>
	</div>
            
            
        <div class="content">
                <h1>Contact us</h1>
                <p>This page is still under construction! Check back later! </p>
                <marquee><img src ="images/underconstruction2.gif"></marquee>
		<h1>Members</h1>
		<div id="members">
		</div>
<center><a href = "index.html"><img src="images/back.gif"></a> </center>

    </div>
    <div class="footer">
        <table width="100%" border="0" cellpadding="5" cellspacing="1">
            <tr>
                <td align="center" valign="middle"><img src="images/leavesborder.gif"/></td>
            </tr>
        </table>
    </div>
</body>

<script>
    function getAllMembers() {
        $.get("http://localhost:8000/clubmemberships/?club=forest", function (data) {
            updateMembers(data);
        });
    }

    function updateMembers(response) {
	    // Create an unordered list element
	    var ul = $("<ul>", {});

	    $.each(response, function (i, member) {
		var listItem = $("<li>", {});
		var nicnameText = "";
		if(member.nickname !== ""){
			nicknameText = "\"" + member.nickname + "\" ";
		}
		var username = $("<span>", {}).text(member.first_name + " " + nicknameText + member.last_name);

		if (member.title !== "") {
		    username.append(" - ").append(($("<b>").text(member.title)));
		}

		listItem.append(username);
		ul.append(listItem);
	    });

	    // Append the unordered list to the members container
	    $("#members").append(ul);
	}
    getAllMembers();
</script>
</html>
