<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Club News</title>
        <link href="Badge.ico" rel="shortcut icon" type="image/x-icon">
        <script src="../Server/static/jquery-3.7.1.min.js"></script>
        <link href="styles.css" rel="stylesheet" type="text/css">
    </head>
    <body>
        <div id="Header_Layer" style="position:absolute;text-align:center;left:0%;top:0px;width:102.4%;height:218px;z-index:11;">
            <div id="Header_Layer_Container" style="width:1280px;position:relative;margin-left:auto;margin-right:auto;text-align:left;">
                <div id="wb_Header_Text" style="position:absolute;left:225px;top:78px;width:791px;height:62px;z-index:6;">
                    <span style="color:#000000;font-family:Arial;font-size:53px;"><strong>Whisper Bay Bowling Club</strong></span>
                </div>
                <div id="wb_Header_Logo_1" style="position:absolute;left:75px;top:0px;width:150px;height:218px;z-index:7;">
                    <img src="images/Badge.png" id="Header_Logo_1" alt="" width="150" height="218">
                </div>
                <div id="wb_Header_Logo_2" style="position:absolute;left:1026px;top:0px;width:150px;height:218px;z-index:8;">
                    <img src="images/Badge.png" id="Header_Logo_2" alt="" width="150" height="218">
                </div>
            </div>
        </div>
        <div id="container"></div>
        <div id="Content_Layer" style="position:absolute;text-align:left;left:0%;top:293px;width:102.4%;height:889px;z-index:12;">
            <div id="wb_Page_Title" style="position:absolute;left:39%;top:0%;width:18%;height:5%;text-align:center;z-index:0;">
                <span style="color:#000000;font-family:Arial;font-size:43px;">Find Us!</span>
            </div>
 
            <div id="wb_Text1" style="position:absolute;left:17%;top:7%;width:64%;height:60%;text-align:justify;z-index:2;">
                <span style="color:#000000;font-family:Arial;font-size:20px;" id="members">
               	 You can find about us by visiting one of our members. 
 		</span>
            </div>
        </div>
        <div id="Menu_Layer" style="position:absolute;text-align:center;left:0%;top:218px;width:102.4%;height:75px;z-index:13;">
            <div id="Menu_Layer_Container" style="width:1280px;position:relative;margin-left:auto;margin-right:auto;text-align:left;">
                <div id="wb_MasterObjects1" style="position:absolute;left:61px;top:0px;width:990px;height:75px;z-index:5;">
                    <div id="wb_LowMenu" style="position:absolute;left:0px;top:35px;width:990px;height:40px;z-index:3;">
                        <ul id="LowMenu" role="menubar" class="nav">
                            <li role="menuitem" class="nav-item">
                                <a class="nav-link withsubmenu" href="javascript:void(0)" target="_self" title="Team Sheets">Team&nbsp;Sheets</a>
                                <ul role="menu">
                                    <li role="menuitem" class="nav-item firstitem"><a class="nav-link" href="./Team_Sheets/Ladies.html" target="_self" title="Ladies">Ladies</a></li>
                                    <li role="menuitem" class="nav-item"><a class="nav-link" href="./Team_Sheets/Midweek_League.html" target="_self" title="Midweek League">Midweek&nbsp;League</a></li>
                                    <li role="menuitem" class="nav-item lastitem"><a class="nav-link" href="./Team_Sheets/Saturday.html" target="_self" title="Saturday">Saturday</a></li>
                                </ul>
                            </li>
                            
                            <li role="menuitem" class="nav-item"><a class="nav-link" href="./Safeguarding.html" target="_self">Safeguarding</a></li>
                        </ul>
                    </div>
                    <div id="wb_TopMenu" style="position:absolute;left:0px;top:0px;width:990px;height:40px;z-index:4;">
                        <ul id="TopMenu" role="menubar" class="nav">
                            <li role="menuitem" class="nav-item firstmain"><a class="nav-link" href="./index.html" target="_self" title="Home Page">Home&nbsp;Page</a></li>
                            <li role="menuitem" class="nav-item"><a class="nav-link" href="./News.html" target="_self" title="Club News">Club&nbsp;News</a></li>
                            
                            <li role="menuitem" class="nav-item"><a class="nav-link" href="./Find_Us.html" target="_self" title="Find Us">Find&nbsp;Us</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script>
   function getAllMembers() {
        $.get("http://localhost:8000/clubmemberships/?club=bowls", function (data) {
            updateMembers(data);
        });
    }

    function updateMembers(response) {
	    // Create an unordered list element
	    var ul = $("<ul>", {});

	    $.each(response, function (i, member) {
		var listItem = $("<li>", {});
		var nicknameText = "";
		if(member.nickname !== ""){
			nicknameText = "\"" + member.nickname + "\" ";
		}
		var username = $("<span>", {}).text(member.first_name + " " + nicknameText + member.last_name);

		if (member.title !== "") {
		    username.append(" - ").append(($("<b>").text(member.title)));
		}

		listItem.append(username);
		ul.append(listItem);
	    });

	    // Append the unordered list to the members container
	    $("#members").append(ul);
	}
    getAllMembers();
</script>
</html>

