<!DOCTYPE html>
<html>
<head>
    <title>Whisper Bay Computer Club</title>
    <link rel="stylesheet" href="styles.css">
    <script src="../Server/static/jquery-3.7.1.min.js"></script>
</head>
<body>

<div id="header">
    <img src="images/computerclubheader.gif" alt="Replace with a GIF of a rotating computer or similar 90s style animation">
</div>

<div id="menu">
    <div class="menu-item"><a href="index.html"><img src = "images/home1.gif"><br>Home</a></div>
    <div class="menu-item"><a href="news.html"><img src = "images/News.gif"><br>Local News</a></div>
    <div class="menu-item"><a href="members.html"><img src = "images/Members.gif"><br>Members</a></div>
    <div class="menu-item"><a href="contact.html"><img src = "images/CONTACT.gif"><br>Contact us!</a></div>
</div>

<div id="content">
    <h2>Local News</h2>
    <div class="news-article">
        <h3>Article Title 1</h3>
        <p><i>Posted on [Date]</i></p>
        <p>This is a placeholder for the first news article. Replace this text with the actual news content.</p>
        <img src="placeholder1.jpg" alt="Replace with a relevant image for the first article">
    </div>
</div>

<div id="links">
    <h2>Other Websites</h2>
    <div class="link-item"><a href="../Architecture/index.html"><img src="images/house-jumping.gif"><br>Whisper Bay Architecture</a></div>
    <div class="link-item"><a href="../ChildrenOfGreen/index.html"><img src="images/pantagramdraaiend.gif"><br>Children of the Green</a></div>
    <div class="link-item"><a href="../Church/index.html"><img src="images/CHURCH.gif"><br>Whisper Bay Church</a></div>
    <div class="link-item"><a href="../CommunityGarden/home.html"><img src="images/Plant_jumps.gif"><br>Community Gardens</a></div>
    <div class="link-item"><a href="../CornishRiviera/index.html"><img src="images/Invest.gif"><br>Holiday Park Project</a></div>
    <div class="link-item"><a href="../CropCircles/index.html"><img src="images/UFO.gif"><br>Signals From The Edge</a></div>
    <div class="link-item"><a href="../Flora/index.html"><img src="images/plantmove.gif"><br>Local Plants</a></div>
    <div class="link-item"><a href="../Folklore/index.html"><img src="images/writingelf.gif"><br>Local Folklore</a></div>
    <div class="link-item"><a href="../CornishFood/index.html"><img src="images/cook.gif"><br>Recipes</a></div>
    <div class="link-item"><a href="../TourismBoard/welcome_tourism.html"><img src="images/tourist2.gif"><br>Tourism Board</a></div>
    <div class="link-item"><a href="../WomenInstitute/index.html"><img src="images/woman_impatient_in_chair.gif"><br>Womens Institute</a></div>
    <div id="seeMore"><img src="images/down_ani.gif"><img src="images/more.gif"><img src="images/down_ani.gif"></div>
</div>

<script type="text/javascript" src="scripts.js"></script>
<script>
function getNewsMessages() {
    $.get("http://localhost:8000/newsarticles/", function (data) {
        updateNews(data);
    });
}

function updateNews(response) {
  // Clear the old data (if any!)
  $('#content').empty();
  
  $.each(response, function (i, article) {
    var articleDiv = $("<div>", {class: "news-article"});
    var title = $("<h3>").text(article.title);
    var authorInfo = $("<p>").append($("<i>").html("Posted on " + article.time + " by <b>" + article.author.name + "</b>"));
    var bodyText = $("<p>").text(article.text);
    
    articleDiv.append(title);
    articleDiv.append(authorInfo);
    articleDiv.append(bodyText);
    articleDiv.appendTo("#content");
  });
};

getNewsMessages();
</script>
</body>
</html>

